<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>命理报告 - 生辰八字算命</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="report.css">
</head>
<body>
    <div class="report-container">
        <header class="report-header">
            <div class="header-content">
                <h1>✨ 命理报告</h1>
                <div class="user-info">
                    <span id="userName" class="user-name"></span>
                    <span id="userGender" class="user-gender"></span>
                    <div id="userBirthInfo" class="birth-info"></div>
                </div>
            </div>
            <div class="report-actions">
                <button id="shareBtn" class="action-btn share-btn">分享报告</button>
                <button id="backBtn" class="action-btn back-btn">重新测算</button>
            </div>
        </header>

        <main class="report-main">
            <!-- 加载状态 -->
            <div id="loadingSection" class="loading-section">
                <div class="loading-spinner"></div>
                <p id="loadingText">正在生成您的专属命理报告...</p>
                <div class="loading-progress">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <div id="loadingSteps" class="loading-steps"></div>
            </div>

            <!-- 报告内容 -->
            <div id="reportContent" class="report-content" style="display: none;">
                <!-- 八字排盘 -->
                <section id="baziSection" class="report-section bazi-section">
                    <h2>🔮 生辰八字</h2>
                    <div class="bazi-info">
                        <div id="dateInfo" class="date-info"></div>
                        <div id="baziDisplay" class="bazi-display"></div>
                    </div>
                </section>

                <!-- 大运排盘 -->
                <section id="dayunSection" class="report-section dayun-section">
                    <h2>📊 人生大运</h2>
                    <div id="dayunDisplay" class="dayun-display"></div>
                </section>

                <!-- 子平术分析 -->
                <section id="zipingSection" class="report-section ziping-section">
                    <h2>⚡ 子平术分析</h2>
                    
                    <!-- 五行分析 -->
                    <div class="ziping-subsection">
                        <h3>🌟 五行分析</h3>
                        <div id="wuxingAnalysis" class="wuxing-analysis"></div>
                    </div>
                    
                    <!-- 十神分析 -->
                    <div class="ziping-subsection">
                        <h3>⭐ 十神分析</h3>
                        <div id="shishenAnalysis" class="shishen-analysis"></div>
                    </div>
                    
                    <!-- 十二宫分析 -->
                    <div class="ziping-subsection">
                        <h3>🏛️ 十二宫分析</h3>
                        <div id="gongweiAnalysis" class="gongwei-analysis"></div>
                    </div>
                    
                    <!-- 综合评价 -->
                    <div class="ziping-subsection">
                        <h3>📋 综合评价</h3>
                        <div id="zipingConclusion" class="ziping-conclusion"></div>
                    </div>
                </section>

                <!-- 完整命理报告 -->
                <section id="completeSection" class="report-section complete-section">
                    <h2>🎯 完整命理报告</h2>
                    <div id="completeDisplay" class="complete-display"></div>
                </section>

                <!-- 命理解读 -->
                <section id="interpretationSection" class="report-section interpretation-section">
                    <h2>📖 命理解读</h2>
                    <div id="interpretationDisplay" class="interpretation-display"></div>
                </section>

                <!-- 生成时间 -->
                <section class="report-footer">
                    <div class="generation-info">
                        <p>报告生成时间：<span id="generationTime"></span></p>
                        <p class="disclaimer">* 此报告仅供娱乐参考，命运掌握在自己手中</p>
                    </div>
                </section>
            </div>

            <!-- 错误状态 -->
            <div id="errorSection" class="error-section" style="display: none;">
                <div class="error-icon">❌</div>
                <h3>报告生成失败</h3>
                <p id="errorMessage">抱歉，生成报告时出现了问题。</p>
                <button id="retryBtn" class="action-btn">重试</button>
                <button id="backToHomeBtn" class="action-btn secondary">返回首页</button>
            </div>
        </main>
    </div>

    <!-- 分享浮层 -->
    <div id="shareModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>分享报告</h2>
                <button id="closeShareModal" class="close-btn">✕</button>
            </div>
            <div class="modal-body">
                <div class="share-options">
                    <button class="share-option" data-type="copy">
                        📋 复制链接
                    </button>
                    <button class="share-option" data-type="wechat">
                        💬 微信分享
                    </button>
                    <button class="share-option" data-type="weibo">
                        🌐 微博分享
                    </button>
                </div>
                <div class="share-url">
                    <input type="text" id="shareUrl" readonly>
                    <button id="copyUrlBtn">复制</button>
                </div>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="https-fix.js"></script>
    <script src="api-services.js"></script>
    <script src="report.js"></script>
</body>
</html>